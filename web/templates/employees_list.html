{{template "header" .}}
<div class="page-header">
	<h1>Employees</h1>
</div>

{{if .Error}}
<div class="error">{{.Error}}</div>
{{end}}

{{if .Success}}
<div class="success">{{.Success}}</div>
{{end}}

<form action="/employees" method="POST" class="inline-form">
	<div class="form-group">
		<label for="name">New Employee Name</label>
		<input type="text" id="name" name="name" required>
	</div>
	<div class="form-group">
		<label for="hourly_rate">Hourly Rate</label>
		<input type="number" id="hourly_rate" name="hourly_rate" step="0.01" min="0" required>
	</div>
	<div class="form-group">
		<label for="payment_method">Payment Method</label>
		<select id="payment_method" name="payment_method">
			<option value="cash">Cash</option>
			<option value="check">Check</option>
		</select>
	</div>
	<button type="submit" class="btn btn-primary">Add Employee</button>
</form>

{{if .Employees}}
<table>
	<thead>
		<tr>
			<th>Name</th>
			<th class="money">Hourly Rate</th>
			<th>Payment Method</th>
			<th>Status</th>
			<th class="actions"></th>
		</tr>
	</thead>
	<tbody>
		{{range .Employees}}
		<tr>
			<td>{{.Name}}</td>
			<td class="money">${{printf "%.2f" .HourlyRate}}</td>
			<td>{{.PaymentMethod}}</td>
			<td>
				{{if .Active}}
				<span class="status status-paid">Active</span>
				{{else}}
				<span class="status status-unpaid">Inactive</span>
				{{end}}
			</td>
			<td class="actions">
				{{if .Active}}
				<form action="/employees/{{.ID}}/deactivate" method="POST" style="display:inline" onsubmit="return confirm('Deactivate this employee?')">
					<button type="submit" class="btn btn-secondary btn-small">Deactivate</button>
				</form>
				{{else}}
				<form action="/employees/{{.ID}}/reactivate" method="POST" style="display:inline">
					<button type="submit" class="btn btn-success btn-small">Reactivate</button>
				</form>
				{{end}}
			</td>
		</tr>
		{{end}}
	</tbody>
</table>
{{else}}
<p class="empty-state">No employees yet. Add one above.</p>
{{end}}
{{template "footer" .}}
