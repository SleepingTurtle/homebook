{{template "header" .}}
<div class="page-header">
	<h1>{{if .Delivery.ID}}Edit{{else}}Add{{end}} Delivery Sales</h1>
</div>

{{if .Error}}
<div class="error">{{.Error}}</div>
{{end}}

<form action="/sales/delivery" method="POST">
	<div class="form-group">
		<label for="date">Date</label>
		<input type="date" id="date" name="date" value="{{.Delivery.Date}}" required>
	</div>

	<fieldset class="delivery-section">
		<legend>Grubhub</legend>
		<div class="form-row">
			<div class="form-group">
				<label for="grubhub_subtotal">Subtotal</label>
				<input type="number" id="grubhub_subtotal" name="grubhub_subtotal" step="0.01" min="0" value="{{if .Delivery.ID}}{{printf "%.2f" .Delivery.GrubhubSubtotal}}{{end}}">
			</div>
			<div class="form-group">
				<label for="grubhub_net">Net Total</label>
				<input type="number" id="grubhub_net" name="grubhub_net" step="0.01" min="0" value="{{if .Delivery.ID}}{{printf "%.2f" .Delivery.GrubhubNet}}{{end}}">
			</div>
		</div>
	</fieldset>

	<fieldset class="delivery-section">
		<legend>Doordash</legend>
		<div class="form-row">
			<div class="form-group">
				<label for="doordash_subtotal">Subtotal</label>
				<input type="number" id="doordash_subtotal" name="doordash_subtotal" step="0.01" min="0" value="{{if .Delivery.ID}}{{printf "%.2f" .Delivery.DoordashSubtotal}}{{end}}">
			</div>
			<div class="form-group">
				<label for="doordash_net">Net Total</label>
				<input type="number" id="doordash_net" name="doordash_net" step="0.01" min="0" value="{{if .Delivery.ID}}{{printf "%.2f" .Delivery.DoordashNet}}{{end}}">
			</div>
		</div>
	</fieldset>

	<fieldset class="delivery-section">
		<legend>Uber Eats</legend>
		<div class="form-row">
			<div class="form-group">
				<label for="ubereats_earnings">Earnings</label>
				<input type="number" id="ubereats_earnings" name="ubereats_earnings" step="0.01" min="0" value="{{if .Delivery.ID}}{{printf "%.2f" .Delivery.UberEatsEarnings}}{{end}}">
			</div>
			<div class="form-group">
				<label for="ubereats_payout">Payout</label>
				<input type="number" id="ubereats_payout" name="ubereats_payout" step="0.01" min="0" value="{{if .Delivery.ID}}{{printf "%.2f" .Delivery.UberEatsPayout}}{{end}}">
			</div>
		</div>
	</fieldset>

	<div class="form-group">
		<label for="notes">Notes (optional)</label>
		<textarea id="notes" name="notes">{{.Delivery.Notes}}</textarea>
	</div>

	<div style="display: flex; gap: 0.5rem;">
		<button type="submit" class="btn btn-primary">Save</button>
		<a href="/sales" class="btn btn-secondary">Cancel</a>
	</div>
</form>

{{template "footer" .}}
